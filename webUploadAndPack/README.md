## 命令行接口

DNGuard 提供了命令行调用接口，这将允许您将它加入自动批处理功能。
使用命令行，首先进入命令行提示，然后改变目录到 DNGuard 的安装目录。
一般是 'C:\Program Files\DNGuard HVM ...'. 输入 DNGuardCMD /? 查看帮助信息.

下面列出了命令行可能返回的错误代码.
--
错误代码	 描叙
0	 命令行调用成功执行.
1	 命令行程序执行出错，非正常退出. 同时会有详细的错误信息显示出来.

#### 命令行参考
--
语法

方法一：（支持DNGuard的所有参数）
DNGuardCMD /hvmprj=<hvm_project_file> 

方法二：（只支持DNGuard的部分参数）
DNGuardCMD <input_assembly_file> <output_dir> [options]

下面的表格列出了 DNGuard 支持的命令行参数。

|/hvmprj=<hvm_project_file>	| 指定工程文件进行加密处理。 您可以先使用DNGuard 图形界面程序创建工程文件，然后在命令行中使用。|
|---------------------------|------------------------------------------------------------------------------|
|<input_assembly_file>	| 指定需要加密保护的程序集文件。|
|<output_dir>	        |指定加密后的程序集文件输出路径。|
|/help	 |显示详细帮助信息。 (快捷: 不带任何参数)|
下面的表格列出了 DNGuard 支持的命令行选项。



|加密选项|  |
|----------------|--------------------------------------------------|
|/encrypt_code	 |保护所有除构造函数和静态构造函数外的其它函数代码。 (缺省设置)|
|/encrypt_cctor	 |保护原静态构造函数的代码。|
|/encrypt_ctor	 |加密保护构造函数的代码。|
|/encrypt_blob	 |加密Blob数据流。|
|/encrypt_res	 |加密托管资源数据。|
|/encrypt_string|	 加密用户字符串。|
|/encrypt_opt|	 采用高性能的加密方法，以实现性能近似无损加密。这是以降低加密算法的复杂度为代价的。|
|HVM 选项|
|/hvm|	 启用 HVM 核心保护技术。|
|HVM将MSIL字节码的一部分转换为一组动态随机的伪代码.|
|HVM核心通过参与MSIL指令的实时编译，确保伪代码被正确编译为本地代码|
|/level=<0|1|2|3|4|5>|	 指定 HVM 核心的保护等级。数字越大，HVM伪代码使用比率越大。有部分性能损失。|
|范围: 0 - 5 .|
|/hvmeh	| 使用 HVM 核心 在实时编译过程中为框架动态提供异常处理表信息。|
|/hvmsig	 |使用 HVM 核心 在实时编译过程中为框架动态提供局部变量类型信息。|
|/hvmstring	| 使用 HVM 核心在实时编译时直接为.Net框架提供用户字符串。|
|混淆选项|
|/obmode=<0|1|2>	 |名称混淆模式|
|0| 常规处理, 对名称按照规则进行一一对应替换。|
|1| 将名称归纳为同一字串。|
|2 |破坏元数据名称堆.|
|/obmetadata|	 对元数据进行结构进行破坏.和部分Asp.Net应用不兼容|
|/autorename	| 自动对程序集中的私有成员进行名称混淆。|
|/obfuscateflow	| 运行时动态流程混淆.|
|有性能损失.|
|DNGuard 运行时选项|
|/clearoutdir|	 加密前先清空输出目录（含子目录）.|
|/runtime=HVMRuntm.dll	| 设置 DNGuard 运行库的名称.|
|/x64opt|	 指定 X64 优化模式.|
|/runtm64=HVMRun64.dll	| 设置 X64 优化库的名称.|
